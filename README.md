# ToyShop - Розыгрыш в магазине игрушек
## Задание 2
Необходимо написать программу – розыгрыша игрушек в магазине детских товаров. Стараемся применять ООП и работу с файлами.
Если какой-то пункт не изучали и не знаете, как сделать, то можете сделать своим способом. Например, у кого в курсе не было ООП, то применяем списки\массивы\словари

## Желательный функционал программы:
В программе должен быть минимум один класс со следующими свойствами:

- id игрушки,
- текстовое название,
- количество
- частота выпадения игрушки (вес в % от 100)

Метод добавление новых игрушек и возможность изменения веса (частоты выпадения игрушки)
Возможность организовать розыгрыш игрушек. 

*Например, следующим образом:*

С помощью метода выбора призовой игрушки – мы получаем эту призовую игрушку и записываем в список\массив. Это список призовых игрушек, которые ожидают выдачи. Еще у нас должен быть метод – получения призовой игрушки. После его вызова – мы удаляем из списка\массива первую игрушку и сдвигаем массив. А эту игрушку записываем в текстовый файл. Не забываем уменьшить количество игрушек

К написанию программы можно подойти более творчески и делать так, как Вы поняли задание. Немного менять и отходить от примера выше.

Если будут вопросы-предложения, то пишите в личные сообщения

# Решение

## Классы
1. **Toy** - класс игрушки, имеет следующие свойства:
* *id* игрушки;
* *name* - текстовое название;
* *amount* - количество;
* *weight* - частота выпадения игрушки (вес в % от 100);

В данном классе реализован метод **decreaseAmount()** для уменьшения количества игрушек на 1.

2. **Customer** - класс покупатель, имеет следующие свойства:
* *id* покупателя;
* *name* - имя покупателя;
* *spent* - общая сумма покупок;

Класс большой смысловой нагрузки не несет, нужен для формирования списка победителей.

3. **ToyStore** - класс магазина игрушек, хранит список игрушек.
Реализует следующие основные методы:
- **viewStore** - выводит в консоль информацию обо всех игрушках в магазине.
- **edit_Toys_weight** - редактирует частоту выпадения игрушки.
- **add_toys_by_id** - позволяет добавть количество игрушек, уже присутствующих в магазине по id.
- **add_toys_to_store** - добавляет новую игрушку.
- **update_statistic**, **get_ID_by_weight** - для учета статистики общего количества игрушек и их веса для лотереи.

4. **ToysPrizeList** - класс который хранит результаты лотереи в виде HashMap<Customer, Toy>.
Содержит методы:
- **add** - для добаления записи в список победителей;
- **count_equal_toys(Toy toy)** - для подсчета кол-ва одинаковых игрушек в списке победителей;

5. **Menu** - класс интерактивного текстового меню;

6. **StoreController** - класс маршрутизатор (основной цикл интерактивного диалога с пользователем)
Содержит следующие варианты:
   1 - Show the list of toys in the store available for lottery 
   2 - Show result of lottery - the prize list
   3 - Add new toys in the Toy store
   4 - Add toys to the store by id
   5 - Change "weight" for the toy
   6 - Get random prize list
   7 - Write prize list to txt-file
   Q - Exit

7. **LotteryFunction** - класс набор методов реализующих функционал программы.
Содержит методы:
- **make_list_toys** - формирует список победителей, кол-во призов запрашивает у пользователя;
- **view_list** - выводит список победителей и призов в консоль.

8. **KeyScanner** - класс методов ввода из консоли.

9. **CSVReader** - класс для получения данных из файлов csv.
Содержит два метода:
- **toyStoreImport** - импортирует список товаров магазина из файла
- **customerList** - импортирует список покупателей(участников лотереи)

10. **Export** - класс для сохранения данных в файл.
Содержит методы:
- **savePrizeListToTxt** - сохраняет список победителей и призов в формате txt, название файла определяет пользователь;
- **CSVExportStore** - сохраняет состояние магазина в файл CSV;
- **CSVExportWinners** - сохраняет список победителей в файл CSV.

